/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version "17".0 		*/
/*  Created On : "06"-mrt-2025 "14":07:34 				*/
/*  DBMS       : PostgreSQL 						*/
/* ---------------------------------------------------- */

/* Drop Tables */

DROP TABLE IF EXISTS "Kp_regeltekst_idealisatie" CASCADE
;

DROP TABLE IF EXISTS "Kp_regeltekst_locatie" CASCADE
;

DROP TABLE IF EXISTS "Kp_regeltekst_thema" CASCADE
;

DROP TABLE IF EXISTS "Omgevingsdocument" CASCADE
;

DROP TABLE IF EXISTS "Regeltekst" CASCADE
;

/* Create Tables */

CREATE TABLE "Kp_regeltekst_idealisatie"
(
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" TIMESTAMP NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" TIMESTAMP NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" TIMESTAMP NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"RegeltekstID" integer NULL,
	"IdealisatieID" integer NULL
)
;

CREATE TABLE "Kp_regeltekst_locatie"
(
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" TIMESTAMP NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" TIMESTAMP NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" TIMESTAMP NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"RegeltekstID" integer NULL,
	"LocatieID" integer NULL
)
;

CREATE TABLE "Kp_regeltekst_thema"
(
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" TIMESTAMP NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" TIMESTAMP NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" TIMESTAMP NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"RegeltekstID" integer NULL,
	"ThemaID" integer NULL
)
;

CREATE TABLE "Omgevingsdocument"
(
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" TIMESTAMP NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" TIMESTAMP NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" TIMESTAMP NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"OmgevingsdocumentID" integer NOT NULL
)
;

CREATE TABLE "Regeltekst"
(
	"Identificatie" varchar(200) NULL,
	"Omschrijving" text NULL,
	"Tekst" text NULL,
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" TIMESTAMP NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" TIMESTAMP NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" TIMESTAMP NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"RegeltekstID" integer NOT NULL,
	"OmgevingsdocumentID" integer NOT NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE "Omgevingsdocument" ADD CONSTRAINT "PK_Omgevingsdocument"
	PRIMARY KEY ("OmgevingsdocumentID")
;

ALTER TABLE "Regeltekst" ADD CONSTRAINT "PK_Regeltekst"
	PRIMARY KEY ("RegeltekstID")
;

/* Create Foreign Key Constraints */

ALTER TABLE "Kp_regeltekst_idealisatie" ADD CONSTRAINT "Fk_kp_regeltekst_idealisatie_regeltekst"
	FOREIGN KEY ("RegeltekstID") REFERENCES "Regeltekst" ("RegeltekstID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_regeltekst_idealisatie" ADD CONSTRAINT "Fk_kp_regeltekst_idealisatie_idealisatie"
	FOREIGN KEY ("IdealisatieID") REFERENCES "Idealisatie" ("IdealisatieID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_regeltekst_locatie" ADD CONSTRAINT "Fk_kp_regeltekst_locatie_regeltekst"
	FOREIGN KEY ("RegeltekstID") REFERENCES "Regeltekst" ("RegeltekstID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_regeltekst_locatie" ADD CONSTRAINT "Fk_kp_regeltekst_locatie_locatie"
	FOREIGN KEY ("LocatieID") REFERENCES "Locatie" ("LocatieID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_regeltekst_thema" ADD CONSTRAINT "Fk_kp_regeltekst_thema_regeltekst"
	FOREIGN KEY ("RegeltekstID") REFERENCES "Regeltekst" ("RegeltekstID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_regeltekst_thema" ADD CONSTRAINT "Fk_kp_regeltekst_thema_thema"
	FOREIGN KEY ("ThemaID") REFERENCES "Thema" ("ThemaID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Regeltekst" ADD CONSTRAINT fk_bevat_omgevingsdocument
	FOREIGN KEY ("OmgevingsdocumentID") REFERENCES "Omgevingsdocument" ("OmgevingsdocumentID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Regeltekst" ADD CONSTRAINT "fk_isGerelateerd_regeltekst"
	FOREIGN KEY ("RegeltekstID") REFERENCES "Regeltekst" ("RegeltekstID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Regeltekst" ADD CONSTRAINT fk_werkingsgebied_regeltekst
	FOREIGN KEY ("RegeltekstID") REFERENCES "Regeltekst" ("RegeltekstID") ON DELETE No Action ON UPDATE No Action
;

/* Create Table Comments, Sequences for Autonumber Columns */

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Kp_regeltekst_idealisatie"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Kp_regeltekst_locatie"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Kp_regeltekst_thema"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON TABLE "Omgevingsdocument"
	IS 'In artikel "16".2 van de Omgevingswet aangemerkt instrument te weten: Omgevingsvisie, programma, omgevingsplan, waterschapsverordening, omgevingsverordening, projectbesluit of bij Algemene Maatregel van Bestuur (Omgevingsbesluit) aangewezen ander besluit of ander rechtsfiguur. Naam alias (gebruikt bij koppeltabellen en foreignkeys): '
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Omgevingsdocument"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON TABLE "Regeltekst"
	IS 'De kleinste zelfstandige eenheid van (een of meer) bij elkaar horende juridische regels: een artikel en lid.  Naam alias (gebruikt bij koppeltabellen en foreignkeys): '
;

COMMENT ON COLUMN "Regeltekst"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Regeltekst"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;
