/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 17.0 		*/
/*  Created On : 06-mrt-2025 13:52:38 				*/
/*  DBMS       : PostgreSQL 						*/
/* ---------------------------------------------------- */

/* Drop Tables */

DROP TABLE IF EXISTS "Enum_enumSocialeGroep" CASCADE
;

DROP TABLE IF EXISTS "Enum_enumSocialeRelatie" CASCADE
;

DROP TABLE IF EXISTS "Enum_incidenttype" CASCADE
;

DROP TABLE IF EXISTS "Enum_leefgebied" CASCADE
;

DROP TABLE IF EXISTS "Enum_verzoeksoort" CASCADE
;

DROP TABLE IF EXISTS "Informering" CASCADE
;

DROP TABLE IF EXISTS "Kp_zorgmelding_medewerker" CASCADE
;

DROP TABLE IF EXISTS "Kp_zorgmelding_natuurlijkperso" CASCADE
;

DROP TABLE IF EXISTS "Leefgebied" CASCADE
;

DROP TABLE IF EXISTS "ZorgelijkeSituatie" CASCADE
;

DROP TABLE IF EXISTS "Zorgmelding" CASCADE
;

/* Create Tables */

CREATE TABLE "Enum_enumSocialeGroep"
(
	"ID" INTEGER NOT NULL
)
;

CREATE TABLE "Enum_enumSocialeRelatie"
(
	"ID" INTEGER NOT NULL
)
;

CREATE TABLE "Enum_incidenttype"
(
	"ID" INTEGER NOT NULL
)
;

CREATE TABLE "Enum_leefgebied"
(
	"ID" INTEGER NOT NULL
)
;

CREATE TABLE "Enum_verzoeksoort"
(
	"ID" INTEGER NOT NULL
)
;

CREATE TABLE "Informering"
(
	"Datum" date NULL,
	"Indicatiegeinformeerd" boolean NULL,
	"Reactie" text NULL,
	"Redennietgeinformeerd" text NULL,
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" DATETIME NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" DATETIME NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" DATETIME NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"InformeringID" integer NOT NULL,
	"NatuurlijkpersoonID" integer NULL
)
;

CREATE TABLE "Kp_zorgmelding_medewerker"
(
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" DATETIME NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" DATETIME NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" DATETIME NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"ZorgmeldingID" integer NULL,
	"MedewerkerID" integer NULL
)
;

CREATE TABLE "Kp_zorgmelding_natuurlijkperso"
(
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" DATETIME NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" DATETIME NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" DATETIME NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"ZorgmeldingID" integer NULL,
	"NatuurlijkpersoonID" integer NULL
)
;

CREATE TABLE "Leefgebied"
(
	"Leefgebied" varchar(50) NULL,
	"Toelichting" text NULL,
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" DATETIME NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" DATETIME NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" DATETIME NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"LeefgebiedID" integer NOT NULL,
	"ZorgelijkeSituatieID" integer NULL
)
;

CREATE TABLE "ZorgelijkeSituatie"
(
	"Nadereomschrijving" text NULL,
	"Sitiuatieschets" text NULL,
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" DATETIME NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" DATETIME NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" DATETIME NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"ZorgelijkeSituatieID" integer NOT NULL,
	"ZorgmeldingID" integer NOT NULL
)
;

CREATE TABLE "Zorgmelding"
(
	"Nadereomschrijving" text NULL,
	"Omschrijving" text NULL,
	"Terugkoppelinggewenst" boolean NULL,
	"Verzoek" varchar(50) NULL,
	"Zorgmeldingsoort" integer NULL,
	"DWH_RECORD_ID" int NULL,	-- GGM primaire sleutel.
	"DWH_ODS_RECORD_ID" int NULL,	-- ODS primaire sleutel.
	"DWH_START_DT" DATETIME NULL,	-- Startdatum van het record.
	"DWH_EIND_DT" DATETIME NULL,	-- Einddatum van het record.
	"DWH_RUN_ID" int NULL,	-- Unieke volgnummer van het laadproces.
	"DWH_BRON" VARCHAR(200) NULL,	-- Omschrijving van de bron waaruit het het gegeven is ontsloten.
	"DWH_LAAD_DT" DATETIME NULL,	-- Moment waarop het gegeven in het GGM is geladen.
	"DWH_ACTUEEL" int NULL,	-- Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.
	"ZorgmeldingID" integer NOT NULL,
	"NatuurlijkpersoonID" integer NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE "Enum_enumSocialeGroep" ADD CONSTRAINT "PK_Enum_enumSocialeGroep"
	PRIMARY KEY ("ID")
;

ALTER TABLE "Enum_enumSocialeRelatie" ADD CONSTRAINT "PK_Enum_enumSocialeRelatie"
	PRIMARY KEY ("ID")
;

ALTER TABLE "Enum_incidenttype" ADD CONSTRAINT "PK_Enum_incidenttype"
	PRIMARY KEY ("ID")
;

ALTER TABLE "Enum_leefgebied" ADD CONSTRAINT "PK_Enum_leefgebied"
	PRIMARY KEY ("ID")
;

ALTER TABLE "Enum_verzoeksoort" ADD CONSTRAINT "PK_Enum_verzoeksoort"
	PRIMARY KEY ("ID")
;

ALTER TABLE "Informering" ADD CONSTRAINT "PK_Informering"
	PRIMARY KEY ("InformeringID")
;

ALTER TABLE "Leefgebied" ADD CONSTRAINT "PK_Leefgebied"
	PRIMARY KEY ("LeefgebiedID")
;

ALTER TABLE "ZorgelijkeSituatie" ADD CONSTRAINT "PK_ZorgelijkeSituatie"
	PRIMARY KEY ("ZorgelijkeSituatieID")
;

ALTER TABLE "Zorgmelding" ADD CONSTRAINT "PK_Zorgmelding"
	PRIMARY KEY ("ZorgmeldingID")
;

/* Create Foreign Key Constraints */

ALTER TABLE "Informering" ADD CONSTRAINT "FK_Informering_Natuurlijkpersoon"
	FOREIGN KEY ("NatuurlijkpersoonID") REFERENCES "Natuurlijkpersoon" ("NatuurlijkpersoonID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_zorgmelding_medewerker" ADD CONSTRAINT "Fk_kp_zorgmelding_medewerker_zorgmelding"
	FOREIGN KEY ("ZorgmeldingID") REFERENCES "Zorgmelding" ("ZorgmeldingID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_zorgmelding_medewerker" ADD CONSTRAINT "Fk_kp_zorgmelding_medewerker_medewerker"
	FOREIGN KEY ("MedewerkerID") REFERENCES "Medewerker" ("MedewerkerID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_zorgmelding_natuurlijkperso" ADD CONSTRAINT "Fk_kp_zorgmelding_natuurlijkperso_zorgmelding"
	FOREIGN KEY ("ZorgmeldingID") REFERENCES "Zorgmelding" ("ZorgmeldingID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Kp_zorgmelding_natuurlijkperso" ADD CONSTRAINT "Fk_kp_zorgmelding_natuurlijkperso_natuurlijkpersoon"
	FOREIGN KEY ("NatuurlijkpersoonID") REFERENCES "Natuurlijkpersoon" ("NatuurlijkpersoonID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Leefgebied" ADD CONSTRAINT "fk_toelichting_zorgelijkeSitua"
	FOREIGN KEY ("ZorgelijkeSituatieID") REFERENCES "ZorgelijkeSituatie" ("ZorgelijkeSituatieID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "ZorgelijkeSituatie" ADD CONSTRAINT "fk_naarAanleidingVan_zorgmeldi"
	FOREIGN KEY ("ZorgmeldingID") REFERENCES "Zorgmelding" ("ZorgmeldingID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Zorgmelding" ADD CONSTRAINT "Fk_zorgmelding_aanvraagofmelding"
	FOREIGN KEY ("ZorgmeldingID") REFERENCES "Aanvraagofmelding" ("AanvraagofmeldingID") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "Zorgmelding" ADD CONSTRAINT "FK_Zorgmelding_Natuurlijkpersoon"
	FOREIGN KEY ("NatuurlijkpersoonID") REFERENCES "Natuurlijkpersoon" ("NatuurlijkpersoonID") ON DELETE No Action ON UPDATE No Action
;

/* Create Table Comments, Sequences for Autonumber Columns */

COMMENT ON TABLE "Informering"
	IS 'Naam alias (gebruikt bij koppeltabellen en foreignkeys): '
;

COMMENT ON COLUMN "Informering"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Informering"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Informering"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Informering"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Informering"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Informering"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Informering"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Informering"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Kp_zorgmelding_medewerker"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Kp_zorgmelding_natuurlijkperso"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON TABLE "Leefgebied"
	IS 'Een Leefgebied in het kader van jeugdbescherming verwijst naar een specifiek domein binnen het leven van een kind of jongere waarin factoren van invloed zijn op diens veiligheid, welzijn en ontwikkeling. Voorbeelden van leefgebieden zijn gezinssituatie, onderwijs, sociale relaties, gezondheid, vrije tijd en financiën. Bij jeugdbescherming wordt elk leefgebied onderzocht om risico’s en beschermende factoren te identificeren, zodat er een integraal plan kan worden opgesteld om de veiligheid en het welzijn van het kind of de jongere te waarborgen. Leefgebieden vormen daarmee een leidraad voor een holistische benadering in de ondersteuning en interventies. Naam alias (gebruikt bij koppeltabellen en foreignkeys): '
;

COMMENT ON COLUMN "Leefgebied"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Leefgebied"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON TABLE "ZorgelijkeSituatie"
	IS 'Een zorgelijke situatie in de context van jeugdbescherming is een omstandigheid waarin de veiligheid, gezondheid, of ontwikkeling van een kind of jongere in het geding is door bijvoorbeeld verwaarlozing, mishandeling, huiselijk geweld, of andere risicofactoren. Deze situaties worden gekenmerkt door signalen van fysieke, emotionele of sociale schade of het ontbreken van een veilige en stabiele omgeving. Een zorgelijke situatie kan leiden tot interventie door jeugdbeschermingsorganisaties om de risico’s te verminderen en het kind of de jongere te beschermen en ondersteunen bij een gezonde en veilige ontwikkeling. Naam alias (gebruikt bij koppeltabellen en foreignkeys): '
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "ZorgelijkeSituatie"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;

COMMENT ON TABLE "Zorgmelding"
	IS 'Een Zorgmelding is een officiële melding bij een gemeente of jeugdhulporganisatie waarin zorgen worden geuit over de veiligheid, gezondheid, of ontwikkeling van een kind of jongere. Deze melding kan worden gedaan door professionals, zoals leraren, huisartsen of politie, maar ook door burgers of familieleden. Een zorgmelding bevat signalen of concrete aanwijzingen van mogelijke risico’s, zoals mishandeling, verwaarlozing, huiselijk geweld, of een onveilige thuissituatie. Het doel van een zorgmelding is om de situatie te laten beoordelen en, indien nodig, passende hulp of bescherming te organiseren om het welzijn van het kind of de jongere te waarborgen. Naam alias (gebruikt bij koppeltabellen en foreignkeys): '
;

COMMENT ON COLUMN "Zorgmelding"."DWH_RECORD_ID"
	IS 'GGM primaire sleutel.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_ODS_RECORD_ID"
	IS 'ODS primaire sleutel.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_START_DT"
	IS 'Startdatum van het record.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_EIND_DT"
	IS 'Einddatum van het record.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_RUN_ID"
	IS 'Unieke volgnummer van het laadproces.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_BRON"
	IS 'Omschrijving van de bron waaruit het het gegeven is ontsloten.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_LAAD_DT"
	IS 'Moment waarop het gegeven in het GGM is geladen.'
;

COMMENT ON COLUMN "Zorgmelding"."DWH_ACTUEEL"
	IS 'Geeft aan of dit een actuele (1) of een historische (0) presentatie van het record is.'
;
